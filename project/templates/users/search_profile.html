{% extends 'event_finder/base.html' %}
{% load static %}
{% block title %}Search Profiles{% endblock %}

{% block content %}

<form method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit">Search</button>
</form>

{% if user %}
    <h1>{{ user.username }}'s Profile</h1>
    <p><strong>Username:</strong> {{ user.username }}</p>
    <p><strong>Email:</strong> {{ user.email }}</p>
    <p><strong>Joined:</strong> {{ user.date_joined|date:"M d, Y" }}</p>

{% if user.bio %}
    <h2>Profile Details</h2>
    <p><strong>Bio:</strong> {{ user.bio }}</p>
{% else %}
    <p>This user has not set up a bio yet.</p>
{% endif %}

{% if user.profile_image %}
  <div class="current-avatar" style="margin-top:1rem;">
    <h3>Current avatar</h3>
    <img src="{{ user.profile_image.url }}" alt="{{ user.username }} avatar" style="max-width:200px;max-height:200px;border-radius:6px;">
  </div>
{% else %}
  <div class="current-avatar" style="margin-top:1rem;">
    <h3>Current avatar</h3>
    <img src="{% static 'images/default.svg' %}" alt="{{ user.username }} avatar" style="max-width:200px;max-height:200px;border-radius:6px;">
  </div>
{% endif %}

{% else %}
    <p>No user found with the provided username.</p>
{% endif %}

{% endblock %} 